<div class="Ticket" flex="100" col="space-between stretch">
    <section>
        <up-ribbon class="Ribbon--red"    ng-if="fix.status == 'Non vu'">NON VU</up-ribbon>
        <up-ribbon class="Ribbon--yellow" ng-if="fix.status == 'En attente'">EN ATTENTE</up-ribbon>
        <up-ribbon class="Ribbon--aqua"   ng-if="fix.status == 'En cours'">EN COURS</up-ribbon>
        <up-ribbon class="Ribbon--pink"   ng-if="fix.status == 'Résolu'">RÉSOLU</up-ribbon>
        <up-ribbon class="Ribbon--violet" ng-if="fix.status == 'Fermé'">FERMÉ</up-ribbon>

        <div ng-if="$root.hasClub('ki')">
            <select class="Input" ng-model="fix.status" ng-change="changeStatus(fix)">
                <option>Non vu</option>
                <option>En attente</option>
                <option>En cours</option>
                <option>Résolu</option>
                <option>Fermé</option>
            </select>
            <time class="Ticket__date small" title="{{fix.date | date: 'mm:HH dd/MM/yy' }}">{{ fix.date | fromNow }}</time>
            <span class="small" up-user user="fix.user">{{ fix.user.nick }}</span>
        </div>

        <p>{{ fix.problem }}</p>

        <div ng-if="$root.hasClub('ki') || $root.username == fix.user.username">
            <a class="Link" title="Supprimer le ticket" ng-click="delete(fix)">Supprimer</a>
        </div>
    </section>

    <div up-likes objet="fix" url="'fixs/' + fix.slug"></div>
</div>
