<div class="up-user-banner" up-col="100%">
    <div class="up-user-image-container up-clickable" ng-click="$root.zoomIn('/api/' + user.image_url)">
        <div class="up-user-image" ng-style="{ 'background-image' : 'url({{ user.image_url | urlFile }})' }"></div>
    </div>
    <h1>{{ user.nick }}</h1>
</div>

<div up-row wrap>
    <div up-col-xs="100%" up-col-sm="100%" up-col-md="100%" up-col="33%">
        <div up-row wrap>
            <div up-col="100%" class="up-ticket">
                <h2>Informations</h2>
                <div class="up-user-infos" up-row wrap padded>
                    <div up-col="100%" ng-if="user.promo"><i class="fa fa-graduation-cap"></i> Promo '{{ user.promo }}</div>
                    <div up-col="100%" ng-if="user.department"><i class="fa fa-institution"></i> {{ user.department }}</div>
                    <div up-col="100%" ng-if="user.nationality"><i class="fa fa-globe"></i> {{ user.nationality }}</div>
                    <div up-col="100%" ng-if="user.phone"><i class="fa fa-phone"></i> <a ng-href="tel:{{ user.phone }}">{{ user.phone }}</a></div>
                    <div up-col="100%" ng-if="user.email"><i class="fa fa-envelope"></i> <a ng-href="mailto:{{ user.email }}">{{ user.email }}</a></div>
                    <div up-col="100%" ng-if="user.skype"><i class="fa fa-skype"></i> <a ng-href="skype:{{ user.skype }}">{{ user.skype }}</a></div>
                    <div up-col="100%" ng-if="user.location"><i class="fa fa-map-marker"></i> {{ user.location }}</div>
                    <div up-col="100%" ng-if="user.origin"><i class="fa fa-street-view"></i> {{ user.origin }}</div>
                </div>
            </div>
            <div up-col="100%" class="up-ticket" ng-if="clubs.length !== 0">
                <h2>Clubs et assos</h2>

                <div up-row wrap center padded>
                    <div ng-repeat="membership in clubs" up-col="33%">
                        <div class="up-club-image-container" ui-sref="root.users.assos.simple.publications({slug: membership.club.slug})"
                             up-col="100%" title="{{ membership.club.name }}{{ membership.role !== '' ? ' - ' + membership.role : '' }}">
                            <div class="up-club-image" ng-style="{'background-image': 'url({{ membership.club.image_url | thumb | urlFile }})' }"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div up-col="100%" class="up-ticket">
                <h2>Achievements</h2>

                <div class="up-achievement-container centering" up-col="100%">
                        <i class="fa fa-{{ achievements.current_level.image }}" style="margin: 0 auto"></i><br>

                        Niveau {{ achievements.number }}<br>
                        <strong>{{ achievements.current_level.name }}</strong> ({{ achievements.current_level.points }}pts)<br>
                        {{ achievements.current_level.description }}<br>
                        Prochain niveau à {{ achievements.next_level.points }}pts<br><br>
                </div>

                <h3>Débloqués</h3>
                <strong>TOTAL : </strong>{{ achievements.points}} points<br><br>

                <div class="up-achievement-container" ng-repeat="achievement in achievements.unlocked" up-col="100%" up-row wrap left>
                    <div up-col="30%">
                        <i class="fa fa-{{ achievement.image }}"></i>
                    </div>

                    <div up-col="70%">
                        <strong>{{ achievement.name }}</strong> ({{ achievement.points }}pts)<br>
                        {{ achievement.description }}
                    </div>
                </div>

                <span class="up-clickable" ng-show="achievements.locked.length > 0" ng-click="showLocked=!showLocked" ng-init="showLocked=false">Montrer les achievements non débloqués<br><br></span>

                <div ng-show="showLocked" class="up-achievement-container" ng-repeat="achievement in achievements.locked" up-col="100%" up-row wrap left>
                    <div up-col="30%">
                        <i class="fa fa-{{ achievement.image }} locked"></i>
                    </div>

                    <div up-col="70%">
                        <strong>{{ achievement.name }}</strong> ({{ achievement.points }}pts)<br>
                        {{ achievement.description }}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div up-col-xs="100%" up-col-sm="100%" up-col-md="100%" up-col="67%">
        <div class="up-ticket" ng-show="displayFoyer">
            <h2>Stats Foyer</h2>

            <div ng-show="foyer.numberBeers === 0">
                Pas de consos à afficher. <strong ng-if="user.username == $root.me.username">Vite, direction le Foyer !</strong>
            </div>
            <div ng-hide="foyer.numberBeers === 0">
                {{ user.first_name }} a ingéré un total de <strong>{{ foyer.litersDrunk }} litres</strong> de bière pour <strong>{{ foyer.numberBeers }} {{ foyer.numberBeers == 1 ? 'conso' : 'consos' }}</strong>...<br>
                <br>
                <br>
                <div up-row wrap padded>
                    <up-chart up-col="100%" config="chartBeers"></up-chart>
                    <up-chart up-col="100%" config="chartLiters"></up-chart>
                </div>
            </div>
        </div>
        <div class="up-ticket" ng-if="displayPonthub">
            <h2>Stats PontHub</h2>

            <div ng-show="ponthub.totalFiles === 0">
                Pas de fichiers téléchargés pour l'instant. <a ng-if="user.username == $root.me.username" ui-sref="root.users.ponthub.category.list" title="PontHub"><strong>Vite, direction PontHub !</strong></a>
            </div>
            <div ng-hide="ponthub.totalFiles === 0">
                {{ user.first_name }} a téléchargé <strong>{{ ponthub.totalFiles }} fichiers</strong> pour plus de <strong>{{ ponthub.totalSize | formatSize }}</strong> !<br>
                <br>
                <br>
                <div up-row wrap padded>
                    <up-chart up-col-xs="100%" up-col-sm="100%" up-col-md="100%" up-col="50%" config="chartRepartition"></up-chart>
                    <up-chart up-col-xs="100%" up-col-sm="100%" up-col-md="100%" up-col="50%" config="chartHipster"></up-chart>
                    <up-chart up-col="100%" config="chartTimeline"></up-chart>
                </div>
            </div>
        </div>
        <div class="up-ticket">
            <h2>Expériences</h2>
            À venir...
        </div>
    </div>
</div>
