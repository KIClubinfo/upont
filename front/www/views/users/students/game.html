<div up-row wrap>
    <div up-col-xs="100%" up-col-sm="100%" up-col-md="100%" up-col="50%" ng-if="!playing && !end">
        <div class="up-ticket">
            <h2>Le jeu</h2>

            Présentation, règles trucs très intéressants<br>

            <div up-row center up-col="100%">
                <form up-row padded center wrap ng-submit="post(promo,mode)" autocomplete="off" up-col="100%">
                    <div up-col-xs="30%" up-col-sm="30%" up-col="15%">
                        Promo
                    </div>
                    <div up-col-xs="70%" up-col-sm="70%" up-col="35%">
                        <select ng-model="promo">
                            <option ng-repeat="item in promos | reverse">{{ item }}</option>
                        </select>
                    </div>

                    <div up-col-xs="30%" up-col-sm="30%" up-col="15%">
                        Mode
                    </div>
                    <div up-col-xs="70%" up-col-sm="70%" up-col="35%">
                        <select ng-model="mode">
                            <option ng-repeat="item in modes">{{ item }}</option>
                        </select>
                    </div>

                    <div class up-row>
                        <button>Jouer !</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div up-col-xs="100%" up-col-sm="100%" up-col-md="100%" up-col="50%" ng-if="!playing && !end">
        <div class="up-ticket">
            <h2>Highscore</h2>

            <em>À venir...</em>
        </div>
    </div>

    <div up-col-xs="100%" up-col-sm="100%" up-col-md="100%" up-col="100%" ng-if="playing && !end">
        <div class="up-ticket">
            <div up-row wrap>
                <div up-col-xs="100%" up-col-sm="100%" up-col="50%" up-row padded center>
                    Chronomètre : {{ (clock - start)/1000 | formatDuration }}
                </div>

                <div up-col-xs="100%" up-col-sm="100%" up-col="50%" up-row padded center>
                    {{ position }}/{{ gameData.list_users.length }}
                </div>
            </div>

            <br>
            
            <div up-row padded center>
                <div up-col-xs="50%" up-col-sm="50%" up-col-md="30%" up-col="25%">
                    <div class="up-image-container" ng-if="!change && mode=='Normal'">
                        <div class="up-image" ng-style="{ 'background-image' : 'url(' + picture + ')' }"></div>
                    </div>

                    <div ng-if="change && mode=='Normal'" up-row center>{{ name }}</div>

                    <div ng-if="!change && mode=='Caractéristique'" up-row center>
                        {{ trait }} : {{ traitValue }}
                    </div>

                    <div ng-if="change && mode=='Caractéristique'">
                        <div class="up-image-container">
                            <div class="up-image" ng-style="{ 'background-image' : 'url(' + picture + ')' }"></div>
                        </div>
                        <br>
                        <span up-row center>{{ name }}</span>
                    </div>
                </div>
            </div>

            <div class="centering">
                <br>
                <button up-col-xs="100%" up-col-sm="100%" up-col="32%" ng-click="next(0)">
                    <span ng-if = "!change && mode=='Normal'">{{ name1 }}</span>
                    <div class="up-image-container" ng-if="change && mode=='Normal'">
                        <div class="up-image" ng-style="{ 'background-image' : 'url(' + picture1 + ')' }"></div>
                    </div>
                    <div ng-if="!change && mode=='Caractéristique'">
                        <div class="up-image-container">
                            <div class="up-image" ng-style="{ 'background-image' : 'url(' + picture1 + ')' }"></div>
                        </div>
                        <span up-row center>{{ name1 }}</span>
                    </div>
                    <span ng-if="change && mode=='Caractéristique'">{{ traitValue1 }}</span>
                </button>
                
                <button up-col-xs="100%" up-col-sm="100%" up-col="32%" ng-click="next(1)">
                    <span ng-if = "!change && mode=='Normal'">{{ name2 }}</span>
                    <div class="up-image-container" ng-if="change && mode=='Normal'">
                        <div class="up-image" ng-style="{ 'background-image' : 'url(' + picture2 + ')' }"></div>
                    </div>
                    <div ng-if="!change && mode=='Caractéristique'">
                        <div class="up-image-container">
                            <div class="up-image" ng-style="{ 'background-image' : 'url(' + picture2 + ')' }"></div>
                        </div>
                        <span up-row center>{{ name2 }}</span>
                    </div>
                    <span ng-if="change && mode=='Caractéristique'">{{ traitValue2 }}</span>
                </button>

                <button up-col-xs="100%" up-col-sm="100%" up-col="32%" ng-click="next(2)">
                    <span ng-if = "!change && mode=='Normal'">{{ name3 }}</span>
                    <div class="up-image-container" ng-if="change && mode=='Normal'">
                        <div class="up-image" ng-style="{ 'background-image' : 'url(' + picture3 + ')' }"></div>
                    </div>
                    <div ng-if="!change && mode=='Caractéristique'">
                        <div class="up-image-container">
                            <div class="up-image" ng-style="{ 'background-image' : 'url(' + picture3 + ')' }"></div>
                        </div>
                        <span up-row center>{{ name3 }}</span>
                    </div>
                    <span ng-if="change && mode=='Caractéristique'">{{ traitValue3 }}</span>
                </button>
            </div>
        </div>
    </div>

    <div up-col-xs="100%" up-col-sm="100%" up-col-md="100%" up-col="50%" ng-if="end">
        <div class="up-ticket">
            <div ng-repeat="face in gameData.list_users" up-col-xs="100%" up-col-sm="100%" up-col-md="100%" up-col="100%" up-row wrap padded>
                <div up-col="30%">
                    <div class="up-image-container">
                        <div class="up-image" ng-style="{ 'background-image' : 'url({{ face[face.answer][1] | urlFile }})' }"></div>
                    </div>
                </div>

                <div up-col="70%">
                    <h3>Réponse <span ng-if="face.result">juste !</span><span ng-if="!face.result">fausse !</span></h3>

                    <div up-col="100%">
                        <div ng-if="face.result">
                            Il s'agissait bien de <b>{{ face[face.answer][0] }}</b>.
                        </div>

                        <div ng-if="!face.result">
                            Ce n'était pas <b>{{ face[face.answered][0] }}</b>, mais <b>{{ face[face.answer][0] }}</b>.

                            <h4>Pénalité de temps : 5 secondes</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div up-col-xs="100%" up-col-sm="100%" up-col-md="100%" up-col="50%" ng-if="end">
        <div class="up-ticket">
            <h3>Temps</h3>

            Tu as fini le jeu en <b>{{ (clock-start)/1000 | formatDuration }}</b>.<br>
            <span ng-if="numWrong>0">Tu as commis <b>{{ numWrong }}</b> faute<span ng-if="numWrong>1">s</span>.<br>Ton temps total est donc de <b>{{ (clock-start)/1000 + 5 * numWrong | formatDuration }}.</b></span>

            <div up-row center up-col="100%">
                <form up-row padded center wrap ng-submit="post(promo,mode)" autocomplete="off" up-col="100%">
                    <div up-col-xs="30%" up-col-sm="30%" up-col="15%">
                        Promo
                    </div>
                    <div up-col-xs="70%" up-col-sm="70%" up-col="35%">
                        <select ng-model="promo">
                            <option ng-repeat="item in promos | reverse">{{ item }}</option>
                        </select>
                    </div>

                    <div up-col-xs="30%" up-col-sm="30%" up-col="15%">
                        Mode
                    </div>
                    <div up-col-xs="70%" up-col-sm="70%" up-col="35%">
                        <select ng-model="mode">
                            <option ng-repeat="item in modes">{{ item }}</option>
                        </select>
                    </div>

                    <div class up-row>
                        <button>Rejouer !</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
